loadstring(game:HttpGet(("https://raw.githubusercontent.com/speedwave1/speed_wave/refs/heads/main/Aya")))()
MakeWindow({
  Hub = {
    Title = "SNAKE HUB | 1.0V",
    Animation = "SCRPIT ASHLEY CANIS "
  },
  Key = {
    KeySystem = false,
    Title = "Key System",
    Description = "",
    KeyLink = "",
    Keys = {"1234"},
    Notifi = {
      Notifications = true,
      CorrectKey = "Running the Script...",
      Incorrectkey = "The key is incorrect",
      CopyKeyLink = "Copied to Clipboard"
    }
  }
})

MinimizeButton({
  Image = "rbxassetid://16905163783",
  Size = {40, 40},
  Color = Color3.fromRGB(200, 200, 200),
  Corner = true,
  Stroke = true,
  StrokeColor = Color3.fromRGB(200, 200, 200)
})

local Main = MakeTab({Name = "info | معلومات"})


-- Function to get all player names
local function getPlayerNames()
    local playerNames = {}
    for _, player in ipairs(game.Players:GetPlayers()) do
        table.insert(playerNames, player.Name)
    end
    return playerNames
end
 
-- Store selected player for later use
local selectedPlayer = nil
local followHead = false
local connection = nil
 
-- Function to spectate the selected player
local function spectatePlayer(enable)
    local player = game.Players.LocalPlayer
    local camera = workspace.CurrentCamera
 
    if selectedPlayer then
        local targetPlayer = game.Players:FindFirstChild(selectedPlayer)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            if enable then
                -- Set camera to follow the selected player
                camera.CameraSubject = targetPlayer.Character.Humanoid
            else
                -- Reset camera to default (back to the local player)
                camera.CameraSubject = player.Character.Humanoid
            end
        else
            print("Selected player not available or out of game.")
        end
    else
        print("No player selected!")
    end
end
 
-- Function to float just above the selected player's head without falling
local function floatAbovePlayerHead()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
 
    if character and character:FindFirstChild("HumanoidRootPart") then
        local humanoidRootPart = character.HumanoidRootPart
 
        if selectedPlayer then
            local targetPlayer = game.Players:FindFirstChild(selectedPlayer)
 
            if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("Head") then
                local targetHead = targetPlayer.Character.Head
 
                -- Position above the selected player's head
                humanoidRootPart.CFrame = targetHead.CFrame * CFrame.new(0, 3, 0)
 
                -- Keep updating the position every frame
                connection = game:GetService("RunService").Heartbeat:Connect(function()
                    if followHead and targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("Head") then
                        -- Update to stay above the player's head
                        humanoidRootPart.CFrame = targetPlayer.Character.Head.CFrame * CFrame.new(0, 3, 0)
                    else
                        connection:Disconnect() -- Disconnect if the toggle is off
                    end
                end)
            else
                print("Target player not found or not in the game.")
            end
        else
            print("No player selected!")
        end
    end
end
 
-- Function to trigger the secondary script
local function triggerCharacterSizeDown()
    local args = {
        [1] = "CharacterSizeDown",
        [2] = 2.4
    }
    game:GetService("ReplicatedStorage").RE:FindFirstChild("1Clothe1s"):FireServer(unpack(args))
end
 
-- Function to teleport behind the selected player and return after 1.5 seconds
local function moveBehindAndReturn()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
 
    if humanoidRootPart and selectedPlayer then
        local targetPlayer = game.Players:FindFirstChild(selectedPlayer)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local targetHumanoidRootPart = targetPlayer.Character.HumanoidRootPart
 
            -- Store the original position
            local originalPosition = humanoidRootPart.CFrame
 
            -- Move behind the selected player
            humanoidRootPart.CFrame = targetHumanoidRootPart.CFrame * CFrame.new(0, 0, 3)
 
            -- Wait for 1.5 seconds before returning
            wait(1.5)
 
            -- Return to original position
            humanoidRootPart.CFrame = originalPosition
        else
            print("Selected player not found or not in the game.")
        end
    else
        print("No player or HumanoidRootPart found!")
    end
end
 
-- Create the dropdown with player names
local Dropdown = AddDropdown(Main, {
  Name = playerNames[1] or "No Players",
  Options = getPlayerNames(),
  Default = "2",
  Callback = function(value)
        selectedPlayer = value
        print("Player selected: " .. value)
    end    
})
 
-- Add a toggle that allows the player to spectate the selected player
AddToggle(Main, {
    Name = "شاهد | View",
    Default = false,
    Callback = function(value)
        spectatePlayer(value)
    end    
})
 
-- Add a second toggle to start floating above the selected player's head
AddToggle(Main, {
    Name = "تحكم في شات لاعب",
    Default = false,
    Callback = function(value)
        followHead = value
        if followHead then
            -- Teleport to player's head first
            floatAbovePlayerHead()
            -- Trigger the secondary script
            triggerCharacterSizeDown()
        else
            if connection then
                connection:Disconnect() -- Disconnect the heartbeat listener when not following
                connection = nil
            end
        end
    end    
})
 
-- Add a button to teleport to the selected player
AddButton(Main, {
  Name = "روح عند لاعب",
  Callback = function()
        floatAbovePlayerHead()
    end    
})
 
-- Add a button to move behind the selected player and return after 1.5 seconds
AddButton(Main, {
  Name = "اسحب لاعب",
  Callback = function()
        moveBehindAndReturn()
    end    
})
-- Function to teleport behind the selected player and then move to a fixed position
local function moveBehindThenTeleportToFixedPosition()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    local teleportPosition = Vector3.new(0.9995850324630737, -489.0882873535156, 1.0034377574920654)
 
    if humanoidRootPart and selectedPlayer then
        local targetPlayer = game.Players:FindFirstChild(selectedPlayer)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local targetHumanoidRootPart = targetPlayer.Character.HumanoidRootPart
 
            -- Move behind the selected player
            humanoidRootPart.CFrame = targetHumanoidRootPart.CFrame * CFrame.new(0, 0, 3)
 
            -- Wait for 1.1 seconds before teleporting to the fixed position
            wait(1.1)
 
            -- Teleport to the fixed position
            humanoidRootPart.CFrame = CFrame.new(teleportPosition)
        else
            print("Selected player not found or not in the game.")
        end
    else
        print("No player or HumanoidRootPart found!")
    end
end
 
-- Add a new button to move behind the selected player and then teleport to a fixed position
AddButton(Main, {
  Name = "اقتل لاعب",
  Callback = function()
        moveBehindThenTeleportToFixedPosition()
    end    
})
